4 СТРУКТУРУВАННЯ КОДУ, РОБОТА 3 ФОРМАМИ, АВТЕНТИФІКАЦІЯ ТА АВТОРИЗАЦІЯ 
4.1 Історія змін
№
Дата
Версія звіту
Опис змін та виправлень
1
29.05.2025
1.0
Створено звіт

2 ЗАВДАННЯ 
Навчитися масштабувати код програм, працювати з формами, здійснювати авторизацію та обмеження прав доступу. 

3 ОПИС ВИКОНАНОЇ РОБОТИ
Робота з профілем користувача винесена у файл profileFunctions.php, де реалізовано функції getUserProfile() для отримання даних з бази та updateUserProfile() для їх оновлення  [рядки 41-58, Додаток В.3]. Обидві функції працюють із використанням підготовлених SQL-запитів, що забезпечує захист від SQL-ін’єкцій.
Обробка форм реалізована за допомогою методу POST, з перевіркою усіх ключових полів: ім’я, прізвище, дата народження, короткий опис. Для перевірки віку використовувались об’єкти DateTime, що дозволяє обчислювати точну різницю в роках. Також реалізовано завантаження зображення користувача через $_FILES із перевіркою на помилки, створенням унікального імені файлу та збереженням його у директорію uploads.
Функція loginOrRegister() відповідає за автентифікацію [рядки 13-39, Додаток В.3]. Якщо користувач вже існує, перевіряється правильність введеного пароля за допомогою password_verify(). Якщо ні — створюється новий запис, і пароль хешується через password_hash(). Успішна автентифікація призводить до створення сесії з відповідними змінними: ім’я користувача та час входу. Ці дані також оновлюються в базі.
У файлі index.php відбувається маршрутизація з перевіркою доступу до сторінок: публічні (наприклад, login.php) доступні всім, а приватні (cart, profile, products) — тільки користувачам із активною сесією [рядки 6-12, Додаток В.3]. Якщо користувач не авторизований, система автоматично виводить сторінку 404.

4 ВИСНОВКИ
У ході роботи я навчилася масштабувати код програм шляхом його структурування у вигляді функцій та окремих модулів, реалізовано обробку HTML-форм з валідацією даних, а також впроваджено механізми авторизації користувача та обмеження доступу до сторінок залежно від стану сесії. 

ДОДАТОК А
Відеозапис
Посилання на відеозапис презентації результатів лабораторної роботи: https://youtu.be/T7iRlS2c3Qs
Хронологічний опис відеозапису:
00:05 — Опис роботи файлу index.php
01:30 — Опис обробки post запиту при авторизації
02:35 — Опис роботи виходу з акаунту
02:47 — Опис функції loginOrRegister()
04:15 — Опис роботи сторінки профілю та обробки post запиту
08:44 — Опис функції updateUserProfile()
